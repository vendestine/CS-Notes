# C++ 多线程

多线程的重要性：&#x20;

(1) 对于一个专业的C++开发来说，多线程是必须掌握的模块。&#x20;

(2) 现代程序都是多线程程序了。因为单核处理器的性能早已经达到了瓶颈，只能往多 核方向发展。现代的个人计算机都是4核起步，工作站，服务器就更不用说了。&#x20;

(3) 工作站可以理解为处理能力更强的大型个人计算机，常见的12核，16核。服务器 有48核的，甚至更多。 (4) 对于一个计算机来说，是不是说核越多好呢？不是，多核会导致单核的工作性能下 降。当核数多到一定程度后，反而总体运行效率下降了。不过，这并不影响现代计 算机核数越来越多的趋势。&#x20;

(5) 传统的单线程程序同时只能在一个核上运行，这是不是太浪费资源了。计算机有8 个核，你就用了一个，暴殄天物啊。多线程程序可以使用多个核，极大提高程序运 行效率。现在网络通信，音频，视频，游戏服务都是多线程程序。



并发与并行的概念介绍：&#x20;

(1) 一句话来说：并行是同时在不同的处理器上处理不同的任务，并发是“同时”在一 个处理器上处理多个任务。 解释一下：&#x20;

1. 并行是指有多个处理器。每个处理器各执行一个线程，互不抢占cpu资源，如 果线程数量多于CPU，也没有办法，只能将处理器的时间划分为多个时间段， 再将时间段分配给各个线程。&#x20;
2. 并发是指只有一个处理器，但多个线程被轮换快速执行，使得宏观上有了同时 执行的效果。作用原理是将单处理器的时间划分为多个时间段，再分配给不同 的线程。同一时间段只能有一个线程在运行，其它线程均处于挂起状态。



进程的概念：&#x20;

(1) 进程的概念在面向进程设计的操作系统（就是 unix，也包括后面衍生出的 linux， mac）和面向线程设计的操作系统（说的就是windows）上有很大区别，两种设计 方式的共同点与不同点还是需要理解的。&#x20;

1. 进程是计算机中的程序对某些数据集合的一次运行活动，是系统进行资源分配 和调度的最基本单位，是操作系统的结构基础。再用大白话说一遍，一个可执 行程序执行起来，就是一个进程。当然，一个程序要执行起来需要各种资源， 这些资源就是数据集合。&#x20;
2. 在面向进程设计的计算机结构中，进程是程序的基本执行单位，进程包括程序 执行的所有资源，同时自己也可以执行。&#x20;
3. 在面向线程设计的计算机结构中，线程才是程序的基本执行单位，进程不过是 线程的容器罢了。进程就像一个仓库，里面存放了程序的所有资源，进程中的 线程才是真正执行程序的单元。



线程的概念：&#x20;

(1) linux 的线程和windows的线程还是有很大区别的。&#x20;

(2) linux 的线程就是一种轻量级的进程，只有依靠进程才可以存在。也模拟出了 windows 线程的方式，让线程成为真正的执行单元。&#x20;

(3) windows 的线程就简单多了，真正执行程序的最小单元。



总结： 说了这么多：其实对进程，线程只是个介绍，这里面水很深。而且 windows 多线程和 linux 多线程的区别并不影响我们学习C++11的多线程，C++标准任何平台通用。 现代C++程序，C++11 的多线程功能才是主流，C++11的多线程就是windows模式的， 进程为一个仓库，线程才是程序执行的最小单元。linux同样完美支持了这些功能。
