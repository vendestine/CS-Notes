# 智能指针的使用范围

### 什么时候使用智能指针

能使用智能指针就尽量使用智能指针；但有时无法使用智能指针&#x20;

因为有些函数必须使用C语言的指针，这些函数又没有替代，这种情况下，才使用普通的指针，其它情况一律使用智能指针。&#x20;



必须使用C语言指针的情况包括：

(1) 网络传输函数，比如windows下的send，recv函数，只能使用c语言指针，无法替代

(2) C语言的文件操作部分。这方面C++已经有了替代品，C++的文件操作完全支持智 能指针，所以在做大型项目时，推荐使用C++的文件操作功能，除了以上两种情况，剩下的均推荐使用智能指针



### 如何判断应该使用哪个智能指针呢？&#x20;

(1) 优先使用unique\_ptr，内存需要共享时再使用shared\_ptr

(2) 当使用shared\_ptr 时，如果出现了循环引用的情况，再去考虑使用weak\_ptr
